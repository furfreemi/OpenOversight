{% extends "base.html" %}
{% import "bootstrap/wtf.html" as wtf %}
{% block content %}

<div role="main">

    {% if current_user and current_user.is_authenticated %}
    <div class="text-center frontpage-leads page-header">
      <h1><small>Volunteer</small></h1>
    </div>

    {% for department in departments %}
    <div class="text-center frontpage-leads">
      <h2><small>{{ department.name }} ({{department.short_name}})</small></h2>
      <p>
        <a class="btn btn-lg btn-primary" href="{{ url_for('main.sort_images', department_id=department.id) }}">
          <span class="glyphicon glyphicon-duplicate" aria-hidden="true"></span>
          Image classification
        </a>
        <a class="btn btn-lg btn-primary" href="{{ url_for('main.label_data', department_id=department.id) }}">
          <span class="glyphicon glyphicon-tag" aria-hidden="true"></span>
          Officer identification
        </a>
      </p>
    </div>
    {% endfor %}

    <div class="text-center frontpage-leads">
      <p>
        <a class="btn btn-lg btn-primary" href="{{ url_for('main.get_tutorial') }}">
          <span class="glyphicon glyphicon-alert" aria-hidden="true"></span>
          Tutorial
        </a>
      </p>
      <p>
        New to working on images for OpenOversight? Or just need a refresher?
      </p>
    </div>

        {% if current_user.is_administrator %}
        <div class="text-center frontpage-leads">
          <a href="{{ url_for('main.add_department') }}"
                class="btn btn-primary" role="button">
              <span class="glyphicon glyphicon-plus" aria-hidden="true"></span>
              Add New Department
          </a>

          <a href="{{ url_for('main.add_officer') }}"
                class="btn btn-primary" role="button">
              <span class="glyphicon glyphicon-plus" aria-hidden="true"></span>
              Add New Officer
          </a>

          <a href="{{ url_for('main.add_unit') }}"
                class="btn btn-primary" role="button">
              <span class="glyphicon glyphicon-plus" aria-hidden="true"></span>
              Add New Unit
          </a>
        </div>
        {% endif %}

    {% else %}


    <div class="text-center frontpage-leads">
        <div class="hero-section">
            <div class="text-left">
            <div class="hero">
                Volunteer
            </div>
            <div class="subhero">
                Help OpenOversight create transparency with the first public, searchable
                database of CPD officers.
            </div>
            </div>
        </div>
        <div class="container">
            <h2>
                <small>How you can help</small>
            </h2>
            <div class="row pb-90">
                <div class="col-lg-4">
                    <h1>
                        <small>Sort Images</small>
                    </h1>
                    <small>
                        Sort submitted images into those with and without officers.
                    </small>
                </div>
                <div class="col-lg-4">
                    <h1>
                        <small>Identify Officers</small>
                    </h1>
                    <small>
                        Have a photo containing faces and/or badge numbers of uniformed police officers?
                    </small>
                </div>
                <div class="col-lg-4">
                    <h1>
                        <small>Contact Us</small>
                    </h1>
                    <!--TODO need copy-->
                    <small>
                        Reach out with any questions, concerns, or ways you'd like to get involved.
                    </small>
                </div>
            </div>

            <div class="row display-flex">
                <div class="col-lg-6 col-half-no-border bg-blue-gray">
                    <div class="text-center">
                        <h1>
                            <small>Log In</small>
                        </h1>
                    </div>
                    <div>
                        <form class="form" method="post" role="form">
                            {{ form.hidden_tag() }}
                            {{ wtf.form_errors(form, hiddens="only") }}

                            {{ wtf.form_field(form.email, autofocus="autofocus") }}
                            {{ wtf.form_field(form.password) }}
                            <div class="text-center">
                                {{ wtf.form_field(form.submit, id="submit", button_map={'submit':'secondary btn-lg'}) }}
                                {% if error %}
                                    {{ error }}
                                {% endif %}
                            </div>
                        </form>
                    </div>
                    <div class="text-center">
                        <a href="{{ url_for('auth.password_reset_request') }}">Forgot Password</a>
                    </div>
                </div>
                <div class="col-lg-6 col-half-no-border bg-blue-gray">
                    <div class="text-center">
                        <h1>
                            <small>Interested in volunteering?</small>
                        </h1>
                        <a class="btn btn-lg btn-info" href="{{ url_for('auth.register') }}">
                            Sign Up
                        </a>
                    </div>
                </div>
            </div>
        </div>
    </div>

    {% endif %}

</div>
{% endblock %}
